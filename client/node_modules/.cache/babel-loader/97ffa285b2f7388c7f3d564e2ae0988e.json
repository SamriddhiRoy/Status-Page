{"ast":null,"code":"import _slicedToArray from\"C:/Users/Samri/creator/creator/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var statusStyles={resolved:\"bg-green-100 text-green-700\",investigating:\"bg-yellow-100 text-yellow-700\",identified:\"bg-orange-100 text-orange-700\",monitoring:\"bg-blue-100 text-blue-700\",ongoing:\"bg-red-100 text-red-700\"};var IncidentTimeline=function IncidentTimeline(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),incidents=_useState2[0],setIncidents=_useState2[1];useEffect(function(){axios.get(\"http://localhost:8001/incidents/\").then(function(res){setIncidents(res.data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-8 text-center\",children:\"\\uD83D\\uDEA8 Recent Incidents\"}),incidents.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"No incidents reported.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:incidents.slice().reverse().map(function(incident){return/*#__PURE__*/_jsxs(\"div\",{className:\"relative border-l-4 border-blue-500 bg-white rounded-lg p-6 shadow transition hover:shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -left-2 top-6 w-4 h-4 bg-blue-500 rounded-full border-4 border-white shadow\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-1\",children:incident.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:new Date(incident.created_at).toLocaleString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4 text-sm mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full font-medium \".concat(statusStyles[incident.status]||\"bg-gray-100 text-gray-700\"),children:incident.status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",incident.type]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-line\",children:incident.description})]},incident.id);})})]});};export default IncidentTimeline;","map":{"version":3,"names":["React","useEffect","useState","axios","statusStyles","resolved","investigating","identified","monitoring","ongoing","IncidentTimeline","incidents","setIncidents","get","then","res","data","length","slice","reverse","map","incident","title","Date","created_at","toLocaleString","status","type","description","id"],"sources":["C:/Users/Samri/creator/creator/client/src/components/IncidentTimeline.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst statusStyles = {\r\n  resolved: \"bg-green-100 text-green-700\",\r\n  investigating: \"bg-yellow-100 text-yellow-700\",\r\n  identified: \"bg-orange-100 text-orange-700\",\r\n  monitoring: \"bg-blue-100 text-blue-700\",\r\n  ongoing: \"bg-red-100 text-red-700\",\r\n};\r\n\r\nconst IncidentTimeline = () => {\r\n  const [incidents, setIncidents] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:8001/incidents/\").then((res) => {\r\n      setIncidents(res.data);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"mt-10 max-w-4xl mx-auto\">\r\n      <h2 className=\"text-3xl font-bold text-gray-800 mb-8 text-center\">\r\n        ðŸš¨ Recent Incidents\r\n      </h2>\r\n\r\n      {incidents.length === 0 ? (\r\n        <p className=\"text-center text-gray-500\">No incidents reported.</p>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {incidents\r\n            .slice()\r\n            .reverse()\r\n            .map((incident) => (\r\n              <div\r\n                key={incident.id}\r\n                className=\"relative border-l-4 border-blue-500 bg-white rounded-lg p-6 shadow transition hover:shadow-md\"\r\n              >\r\n                <div className=\"absolute -left-2 top-6 w-4 h-4 bg-blue-500 rounded-full border-4 border-white shadow\"></div>\r\n\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-1\">\r\n                  {incident.title}\r\n                </h3>\r\n                <p className=\"text-sm text-gray-500 mb-2\">\r\n                  {new Date(incident.created_at).toLocaleString()}\r\n                </p>\r\n\r\n                <div className=\"flex flex-wrap items-center gap-4 text-sm mb-3\">\r\n                  <span\r\n                    className={`px-3 py-1 rounded-full font-medium ${statusStyles[incident.status] || \"bg-gray-100 text-gray-700\"}`}\r\n                  >\r\n                    {incident.status}\r\n                  </span>\r\n                  <span className=\"text-gray-600\">\r\n                    <strong>Type:</strong> {incident.type}\r\n                  </span>\r\n                </div>\r\n\r\n                <p className=\"text-gray-700 whitespace-pre-line\">\r\n                  {incident.description}\r\n                </p>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IncidentTimeline;\r\n"],"mappings":"2HAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,GAAMC,aAAY,CAAG,CACnBC,QAAQ,CAAE,6BAA6B,CACvCC,aAAa,CAAE,+BAA+B,CAC9CC,UAAU,CAAE,+BAA+B,CAC3CC,UAAU,CAAE,2BAA2B,CACvCC,OAAO,CAAE,yBACX,CAAC,CAED,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7B,cAAkCR,QAAQ,CAAC,EAAE,CAAC,wCAAvCS,SAAS,eAAEC,YAAY,eAE9BX,SAAS,CAAC,UAAM,CACdE,KAAK,CAACU,GAAG,CAAC,kCAAkC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CAC1DH,YAAY,CAACG,GAAG,CAACC,IAAI,CAAC,CACxB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,yBAAyB,wBACtC,WAAI,SAAS,CAAC,mDAAmD,2CAE5D,CAEJL,SAAS,CAACM,MAAM,GAAK,CAAC,cACrB,UAAG,SAAS,CAAC,2BAA2B,oCAA2B,cAEnE,YAAK,SAAS,CAAC,WAAW,UACvBN,SAAS,CACPO,KAAK,EAAE,CACPC,OAAO,EAAE,CACTC,GAAG,CAAC,SAACC,QAAQ,qBACZ,aAEE,SAAS,CAAC,+FAA+F,wBAEzG,YAAK,SAAS,CAAC,sFAAsF,EAAO,cAE5G,WAAI,SAAS,CAAC,0CAA0C,UACrDA,QAAQ,CAACC,KAAK,EACZ,cACL,UAAG,SAAS,CAAC,4BAA4B,UACtC,GAAIC,KAAI,CAACF,QAAQ,CAACG,UAAU,CAAC,CAACC,cAAc,EAAE,EAC7C,cAEJ,aAAK,SAAS,CAAC,gDAAgD,wBAC7D,aACE,SAAS,8CAAwCrB,YAAY,CAACiB,QAAQ,CAACK,MAAM,CAAC,EAAI,2BAA2B,CAAG,UAE/GL,QAAQ,CAACK,MAAM,EACX,cACP,cAAM,SAAS,CAAC,eAAe,wBAC7B,iCAAsB,KAAEL,QAAQ,CAACM,IAAI,GAChC,GACH,cAEN,UAAG,SAAS,CAAC,mCAAmC,UAC7CN,QAAQ,CAACO,WAAW,EACnB,GAzBCP,QAAQ,CAACQ,EAAE,CA0BZ,EACP,CAAC,EAEP,GACG,CAEV,CAAC,CAED,cAAenB,iBAAgB"},"metadata":{},"sourceType":"module"}