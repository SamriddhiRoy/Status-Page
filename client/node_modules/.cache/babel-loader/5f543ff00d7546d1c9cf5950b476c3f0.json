{"ast":null,"code":"import _slicedToArray from\"C:/Users/Samri/creator/creator/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import axios from'axios';import UptimeGraph from'../components/UptimeGraph';import Sidebar from'../components/Sidebar';import Navbar from'../components/Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),services=_useState2[0],setServices=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){axios.get('http://localhost:8001/services/').then(function(res){setServices(res.data);setLoading(false);}).catch(function(err){console.error(\"Error fetching services:\",err);setError(\"Failed to load services. Please try again later.\");setLoading(false);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-b from-white to-gray-50\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:pl-64 transition-all duration-300\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"p-4 sm:p-6 lg:p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-blue-600 mb-10 text-center tracking-tight leading-tight\",children:\"System Status Dashboard\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-600 text-lg animate-pulse\",children:\"Loading dashboard data...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 text-red-800 text-center p-4 rounded-lg shadow-md max-w-2xl mx-auto\",children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-2xl shadow-lg mb-8 max-w-4xl mx-auto border border-gray-300 hover:shadow-2xl transform transition duration-300 hover:scale-105\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-6 text-center hover:text-blue-800\",children:\"\\uD83D\\uDCCA Service Uptime Overview\"}),services.length>0?/*#__PURE__*/_jsx(UptimeGraph,{serviceData:services}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-10 text-lg\",children:\"No service data available. Add services in Service Management.\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl sm:text-3xl font-bold text-gray-800 mb-6 text-center\",children:\"\\uD83E\\uDDE9 Services Overview\"}),services.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg text-center text-gray-500 py-8 text-lg max-w-3xl mx-auto\",children:\"No services configured yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto\",children:services.map(function(service){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-100 p-5 rounded-2xl shadow hover:shadow-xl transition duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 truncate\",children:service.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium\\n                            \".concat(service.status==='Operational'?'bg-green-100 text-green-700':'',\"\\n                            \").concat(['Degraded','Partial Outage'].includes(service.status)?'bg-yellow-100 text-yellow-700':'',\"\\n                            \").concat(service.status==='Major Outage'?'bg-red-100 text-red-700':'',\"\\n                          \"),children:[service.status==='Operational'&&'‚úÖ',service.status==='Degraded'&&'‚ö†Ô∏è',service.status==='Partial Outage'&&'üöß',service.status==='Major Outage'&&'‚ùå',service.status]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:service.description||'No description available.'})]},service.id);})})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["useState","useEffect","axios","UptimeGraph","Sidebar","Navbar","Dashboard","services","setServices","loading","setLoading","error","setError","get","then","res","data","catch","err","console","length","map","service","name","status","includes","description","id"],"sources":["C:/Users/Samri/creator/creator/client/src/pages/Dashboard.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport UptimeGraph from '../components/UptimeGraph';\r\nimport Sidebar from '../components/Sidebar';\r\nimport Navbar from '../components/Navbar';\r\n\r\nconst Dashboard = () => {\r\n  const [services, setServices] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:8001/services/')\r\n      .then((res) => {\r\n        setServices(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error fetching services:\", err);\r\n        setError(\"Failed to load services. Please try again later.\");\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-white to-gray-50\">\r\n     \r\n      <Sidebar />\r\n\r\n     \r\n      <div className=\"lg:pl-64 transition-all duration-300\">\r\n        <Navbar />\r\n\r\n        <main className=\"p-4 sm:p-6 lg:p-8\">\r\n          <h1 className=\"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-blue-600 mb-10 text-center tracking-tight leading-tight\">\r\n            System Status Dashboard\r\n          </h1>\r\n\r\n          {loading && (\r\n            <div className=\"text-center text-gray-600 text-lg animate-pulse\">\r\n              Loading dashboard data...\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"bg-red-100 text-red-800 text-center p-4 rounded-lg shadow-md max-w-2xl mx-auto\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {!loading && !error && (\r\n            <>\r\n        \r\n              <div className=\"bg-gray-50 p-6 rounded-2xl shadow-lg mb-8 max-w-4xl mx-auto border border-gray-300 hover:shadow-2xl transform transition duration-300 hover:scale-105\">\r\n                <h2 className=\"text-2xl font-bold text-blue-600 mb-6 text-center hover:text-blue-800\">\r\n                  üìä Service Uptime Overview\r\n                </h2>\r\n                {services.length > 0 ? (\r\n                  <UptimeGraph serviceData={services} />\r\n                ) : (\r\n                  <div className=\"text-center text-gray-500 py-10 text-lg\">\r\n                    No service data available. Add services in Service Management.\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n           \r\n              <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-800 mb-6 text-center\">\r\n                üß© Services Overview\r\n              </h2>\r\n\r\n              {services.length === 0 ? (\r\n                <div className=\"bg-white p-6 rounded-xl shadow-lg text-center text-gray-500 py-8 text-lg max-w-3xl mx-auto\">\r\n                  No services configured yet.\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto\">\r\n                  {services.map((service) => (\r\n                    <div\r\n                      key={service.id}\r\n                      className=\"bg-white border border-gray-100 p-5 rounded-2xl shadow hover:shadow-xl transition duration-300\"\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-4\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-800 truncate\">\r\n                          {service.name}\r\n                        </h3>\r\n                        <span\r\n                          className={`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium\r\n                            ${service.status === 'Operational' ? 'bg-green-100 text-green-700' : ''}\r\n                            ${['Degraded', 'Partial Outage'].includes(service.status) ? 'bg-yellow-100 text-yellow-700' : ''}\r\n                            ${service.status === 'Major Outage' ? 'bg-red-100 text-red-700' : ''}\r\n                          `}\r\n                        >\r\n                          {service.status === 'Operational' && '‚úÖ'}\r\n                          {service.status === 'Degraded' && '‚ö†Ô∏è'}\r\n                          {service.status === 'Partial Outage' && 'üöß'}\r\n                          {service.status === 'Major Outage' && '‚ùå'}\r\n                          {service.status}\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"text-gray-500 text-sm\">\r\n                        {service.description || 'No description available.'}\r\n                      </p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}